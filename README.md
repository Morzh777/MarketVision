# üõçÔ∏è WB Info - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ü–µ–Ω –∏ –ø–∞—Ä—Å–∏–Ω–≥ —Ç–æ–≤–∞—Ä–æ–≤

–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ü–µ–Ω –Ω–∞ Wildberries –∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ DNS-shop —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π —Ç–æ–≤–∞—Ä–æ–≤.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
wbinfo/
‚îú‚îÄ‚îÄ monorepo-root/
‚îÇ   ‚îú‚îÄ‚îÄ wb-api/          # WB API —Å–µ—Ä–≤–∏—Å (NestJS)
‚îÇ   ‚îú‚îÄ‚îÄ bot/             # Telegram –±–æ—Ç (TypeScript)
‚îÇ   ‚îú‚îÄ‚îÄ dns-api/         # DNS –ø–∞—Ä—Å–µ—Ä API (Python/FastAPI)
‚îÇ   ‚îî‚îÄ‚îÄ product-filter-service/  # gRPC —Å–µ—Ä–≤–∏—Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ tests/               # –û–±—â–∏–µ —Ç–µ—Å—Ç—ã
‚îî‚îÄ‚îÄ README.md           # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

### üîÑ –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```
[Telegram Bot] ‚Üê‚Üí [Product-Filter-Service] ‚Üê‚Üí [WB-API] ‚Üê‚Üí [WildBerries]
                         ‚Üì ‚Üë                    [DNS-API] ‚Üê‚Üí [DNS.shop]
                    [Redis Cache]
                (—Ü–µ–Ω—ã + –∏—Å—Ç–æ—Ä–∏—è + –∞–≥—Ä–µ–≥–∞—Ü–∏—è)
```

#### üéØ –ü—Ä–∏–Ω—Ü–∏–ø—ã —á–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

**1Ô∏è‚É£ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:**
- **Telegram Bot**: –¢–û–õ–¨–ö–û –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã —Ä–∞–∑ –≤ —á–∞—Å, –ø–æ–ª—É—á–∞–µ—Ç –≥–æ—Ç–æ–≤—ã–µ –ø–æ—Å—Ç—ã
- **Product-Filter-Service**: –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å - –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ—Ç –≤—Å–µ—Ö –ø–∞—Ä—Å–µ—Ä–æ–≤, —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç, –∫—ç—à–∏—Ä—É–µ—Ç, –Ω–∞—Ö–æ–¥–∏—Ç –ª—É—á—à–∏–µ —Ü–µ–Ω—ã
- **WB-API**: –ü–∞—Ä—Å–µ—Ä WildBerries - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ
- **DNS-API**: –ü–∞—Ä—Å–µ—Ä DNS-shop - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ

**2Ô∏è‚É£ –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
- –ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –Ω–µ–∑–∞–≤–∏—Å–∏–º –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –æ—Ç–¥–µ–ª—å–Ω–æ
- –°–≤—è–∑—å —á–µ—Ä–µ–∑ HTTP REST API –∏ gRPC
- –ï–¥–∏–Ω—ã–π Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

**3Ô∏è‚É£ –°–ª–æ–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:**

```
üì± Presentation Layer (Telegram Bot UI)
          ‚Üì
üîÄ Application Layer (Product-Filter-Service)
          ‚Üì
üèõÔ∏è Domain Layer (Business Logic & Validators)
          ‚Üì
üóÑÔ∏è Infrastructure Layer (WB-API, Redis, DNS-API)
```

### üîç –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

#### ü§ñ **Telegram Bot** (`monorepo-root/bot/`)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –¢–û–õ–¨–ö–û –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å - –ù–ï —Å–æ–¥–µ—Ä–∂–∏—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: TypeScript, node-telegram-bot-api  
- **–§—É–Ω–∫—Ü–∏–∏**:
  - –ö–æ–º–∞–Ω–¥—ã –ø–æ–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ (`/videocards`, `/processors`, `/motherboards`)
  - –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫: —Ä–∞–∑ –≤ —á–∞—Å –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–æ—Å—Ç—ã —É Product-Filter-Service
  - –û—Ç–ø—Ä–∞–≤–∫–∞ –≥–æ—Ç–æ–≤—ã—Ö –ø–æ—Å—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
  - **–ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç —Å Redis** - –≤—Å—è –ª–æ–≥–∏–∫–∞ –≤ Product-Filter-Service

#### üåê **Product-Filter-Service** (`monorepo-root/product-filter-service/`)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π hub –≤—Å–µ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ —Å–∏—Å—Ç–µ–º—ã
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: NestJS, gRPC, Redis
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: Clean Architecture —Å —è–≤–Ω—ã–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º —Å–ª–æ–µ–≤
- **–§—É–Ω–∫—Ü–∏–∏**:
  - **–ê–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**: –°–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ—Ç –≤—Å–µ—Ö –ø–∞—Ä—Å–µ—Ä–æ–≤ (WB-API, DNS-API, ...)
  - **–ü–æ–∏—Å–∫ –ª—É—á—à–∏—Ö —Ü–µ–Ω**: –ù–∞—Ö–æ–¥–∏—Ç —Å–∞–º—É—é –Ω–∏–∑–∫—É—é —Ü–µ–Ω—É –Ω–∞ –∫–∞–∂–¥—ã–π —Ç–æ–≤–∞—Ä —Å—Ä–µ–¥–∏ –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
  - **–£–º–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: –û—Ç–¥–∞–µ—Ç –±–æ—Ç—É —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã –∏–ª–∏ —Å–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–º–∏ —Å–∫–∏–¥–∫–∞–º–∏ (>0.5%)
  - **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞—é—â–∏–π —Å Redis (—Ü–µ–Ω—ã + –∏—Å—Ç–æ—Ä–∏—è –ø—É–±–ª–∏–∫–∞—Ü–∏–π)
  - **–í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤**: RTX, X3D, Chipset –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã
  - **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ñ–æ—Ç–æ**: –î–æ–±–∞–≤–ª—è–µ—Ç —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤
  - **–î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è**: –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

#### üì° **WB-API** (`monorepo-root/wb-api/`)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–∞—Ä—Å–∏–Ω–≥ —Å—ã—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å WildBerries
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: NestJS, Rate Limiting, HTTP Client
- **–ü—Ä–∏–Ω—Ü–∏–ø—ã**: 
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç **—Ç–æ–ª—å–∫–æ —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ** –±–µ–∑ –æ–±—Ä–∞–±–æ—Ç–∫–∏
  - –ù–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
  - –†–µ–∞–ª–∏–∑—É–µ—Ç rate limiting –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
  - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–∏—Å–∫–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- **Endpoints**:
  - `GET /parser/videocards` - –≤–∏–¥–µ–æ–∫–∞—Ä—Ç—ã
  - `GET /parser/processors` - –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã  
  - `GET /parser/motherboards` - –º–∞—Ç–µ—Ä–∏–Ω—Å–∫–∏–µ –ø–ª–∞—Ç—ã

#### üîç **DNS-API** (`monorepo-root/dns-api/`)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–π –ø–∞—Ä—Å–µ—Ä DNS-shop
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: Python, FastAPI, Selenium, undetected-chromedriver
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
  - –≠–º—É–ª—è—Ü–∏—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –æ–±—Ö–æ–¥–∞ –∞–Ω—Ç–∏-–±–æ—Ç –∑–∞—â–∏—Ç—ã
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ headless/GUI —Ä–µ–∂–∏–º–æ–≤
  - –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Å—ã–ª–æ–∫
  - –°–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

#### üóÑÔ∏è **Redis Cache**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ï–¥–∏–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è Product-Filter-Service (–¢–û–õ–¨–ö–û –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç —Å Redis)
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö**:
  ```
  price:videocards:{stableId} ‚Üí –ª—É—á—à–∞—è —Ü–µ–Ω–∞ —Ç–æ–≤–∞—Ä–∞ —Å—Ä–µ–¥–∏ –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
  last_posted_price:videocards:{stableId} ‚Üí –ø–æ—Å–ª–µ–¥–Ω—è—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è —Ü–µ–Ω–∞
  posted:videocards:{stableId} ‚Üí —Ñ–ª–∞–≥ —á—Ç–æ —Ç–æ–≤–∞—Ä —É–∂–µ –ø—É–±–ª–∏–∫–æ–≤–∞–ª—Å—è
  product:cache:{category}:{query} ‚Üí –∫—ç—à –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
  source:wb:{productId} ‚Üí –¥–∞–Ω–Ω—ã–µ –æ—Ç WB-API
  source:dns:{productId} ‚Üí –¥–∞–Ω–Ω—ã–µ –æ—Ç DNS-API
  ```

### üîÑ –ü–æ—Ç–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö

#### 1Ô∏è‚É£ **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –±–æ—Ç–∞ (—Ä–∞–∑ –≤ —á–∞—Å)**
```
Telegram Bot ‚Üí Product-Filter-Service ‚Üí "–î–∞–π –º–Ω–µ –Ω–æ–≤—ã–µ –ø–æ—Å—Ç—ã –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏"
```

#### 2Ô∏è‚É£ **–ê–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –æ—Ç –≤—Å–µ—Ö –ø–∞—Ä—Å–µ—Ä–æ–≤**
```
Product-Filter-Service ‚Üí [WB-API, DNS-API, ...] ‚Üí [WildBerries, DNS.shop, ...] ‚Üí —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ
```

#### 3Ô∏è‚É£ **–ü–æ–∏—Å–∫ –ª—É—á—à–∏—Ö —Ü–µ–Ω –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏—è**
```
–°—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ ‚Üí –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Ç–æ–≤–∞—Ä–∞–º ‚Üí –ü–æ–∏—Å–∫ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã
```

#### 4Ô∏è‚É£ **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è**
```
–õ—É—á—à–∏–µ —Ü–µ–Ω—ã ‚Üí –í–∞–ª–∏–¥–∞—Ç–æ—Ä—ã ‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ Redis (—Ü–µ–Ω—ã + –∏—Å—Ç–æ—Ä–∏—è) ‚Üí –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
```

#### 5Ô∏è‚É£ **–ü—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏—è –æ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏**
- **–ù–æ–≤—ã–π —Ç–æ–≤–∞—Ä —Å –ª—É—á—à–µ–π —Ü–µ–Ω–æ–π**: ‚úÖ –ì–æ—Ç–æ–≤–∏–º –ø–æ—Å—Ç
- **–¶–µ–Ω–∞ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å**: ‚ùå –ü—Ä–æ–ø—É—Å–∫–∞–µ–º  
- **–£–∂–µ –ø—É–±–ª–∏–∫–æ–≤–∞–ª–∏ —ç—Ç–æ—Ç —Ç–æ–≤–∞—Ä**: ‚ùå –ü—Ä–æ–ø—É—Å–∫–∞–µ–º
- **–°–∫–∏–¥–∫–∞ < 0.5%**: ‚ùå –ü—Ä–æ–ø—É—Å–∫–∞–µ–º
- **–°–∫–∏–¥–∫–∞ ‚â• 0.5%**: ‚úÖ –ì–æ—Ç–æ–≤–∏–º –ø–æ—Å—Ç —Å –¥–∞–Ω–Ω—ã–º–∏ –æ —Å–∫–∏–¥–∫–µ

#### 6Ô∏è‚É£ **–í–æ–∑–≤—Ä–∞—Ç –≥–æ—Ç–æ–≤—ã—Ö –ø–æ—Å—Ç–æ–≤ –±–æ—Ç—É**
```
–ì–æ—Ç–æ–≤—ã–µ –ø–æ—Å—Ç—ã ‚Üí Product-Filter-Service ‚Üí Telegram Bot ‚Üí –ü—É–±–ª–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
```

### üß™ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**

–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤:

```bash
cd tests
npm run test:architecture  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ–π —Ü–µ–ø–æ—á–∫–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
```

**–ü—Ä–æ–≤–µ—Ä—è–µ–º—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**
- ‚úÖ WB-API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ (–±–µ–∑ previousPrice/discount)
- ‚úÖ Product-Filter –¥–æ–±–∞–≤–ª—è–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Ü–µ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–Ω–∏–∂–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—É–±–ª–∏–∫—É–µ–º—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤

### üéØ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**

1. **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å**: –ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –º–æ–∂–Ω–æ —Ä–∞–∑–≤–∏–≤–∞—Ç—å –∏ –¥–µ–ø–ª–æ–∏—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
2. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö (Ozon, AliExpress)
3. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –û—Ç–∫–∞–∑ –æ–¥–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–∞–±–æ—Ç—É –¥—Ä—É–≥–∏—Ö
4. **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å**: –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ —É–ø—Ä–æ—â–∞–µ—Ç unit –∏ integration —Ç–µ—Å—Ç—ã
5. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –£–º–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–Ω–∏–∂–∞—é—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –≤–Ω–µ—à–Ω–∏–µ API

## üìã **–°—Ç–∞–Ω–¥–∞—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–∞—Ä—Å–µ—Ä–æ–≤**

> ‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û!** –í—Å–µ –Ω–æ–≤—ã–µ –ø–∞—Ä—Å–µ—Ä—ã –¥–æ–ª–∂–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –µ–¥–∏–Ω–æ–º—É —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É –¥–∞–Ω–Ω—ã—Ö.

üìñ **[–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ ‚Üí](PARSER-DATA-STANDARD.md)**

### üéØ –û—Å–Ω–æ–≤–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:

```json
{
  "results": [
    {
      "query": "rtx 4070",
      "products": [
        {
          "id": "123456789",           // üîë –£–ù–ò–ö–ê–õ–¨–ù–´–ô ID (–∫—Ä–∏—Ç–∏—á–Ω–æ!)
          "name": "RTX 4070 Gaming OC", // üìù –ü–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ
          "price": 65000,               // üí∞ –¶–µ–Ω–∞ –≤ —Ä—É–±–ª—è—Ö (—á–∏—Å–ª–æ)
          "image_url": "https://..."    // üñºÔ∏è –§–æ—Ç–æ —Ç–æ–≤–∞—Ä–∞
        }
      ]
    }
  ]
}
```

### ‚úÖ **–ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è –Ω–æ–≤–æ–≥–æ –ø–∞—Ä—Å–µ—Ä–∞:**

- [ ] **ID —É–Ω–∏–∫–∞–ª–µ–Ω** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ (ID ‚â† stableId –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏—è)
- [ ] **–ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–µ** –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–µ  
- [ ] **–¶–µ–Ω–∞** ‚Äî —á–∏—Å–ª–æ –≤ —Ä—É–±–ª—è—Ö (–Ω–µ —Å—Ç—Ä–æ–∫–∞, –Ω–µ –∫–æ–ø–µ–π–∫–∏)
- [ ] **Query** —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–∏—Å–∫–æ–≤–æ–º—É –∑–∞–ø—Ä–æ—Å—É
- [ ] **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –Ω–∞ Product-Filter-Service
- [ ] **–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞** —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–≤—ã–±–∏—Ä–∞–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é —Ü–µ–Ω—É)

### üö® **–ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏:**

```json
// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û: –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ ID
{"id": "123", "name": "RTX 4070 Gaming", "price": 65000}
{"id": "123", "name": "RTX 4070 SUPRIM", "price": 62000}

// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ ID  
{"id": "123", "name": "RTX 4070 Gaming", "price": 65000}
{"id": "456", "name": "RTX 4070 SUPRIM", "price": 62000}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** Product-Filter-Service –≤—ã–±–µ—Ä–µ—Ç RTX 4070 SUPRIM –∑–∞ 62,000‚ÇΩ –∫–∞–∫ —Å–∞–º—ã–π –≤—ã–≥–æ–¥–Ω—ã–π! üéØ

## üöÄ –ë–´–°–¢–†–´–ô –ó–ê–ü–£–°–ö –í–°–ï–• –°–ï–†–í–ò–°–û–í

### üìã –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

```bash
# Node.js 18+
node --version

# Python 3.11+
python --version

# Docker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
docker --version
```

## üîß –ö–û–ú–ê–ù–î–´ –ó–ê–ü–£–°–ö–ê

### 1Ô∏è‚É£ WB API (–û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å)
```bash
cd monorepo-root/wb-api
npm install
npm run start:dev
# –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞: http://localhost:3000
# Swagger: http://localhost:3000/api
```

### 2Ô∏è‚É£ Product Filter Service (gRPC)
```bash
cd product-filter-service
npm install
npm run start:dev
# gRPC —Å–µ—Ä–≤–µ—Ä –Ω–∞ –ø–æ—Ä—Ç—É: 50051
```

### 3Ô∏è‚É£ Telegram Bot
```bash
cd monorepo-root/bot
npm install
# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env —Å TELEGRAM_BOT_TOKEN
npm run start:dev
```

### 4Ô∏è‚É£ DNS API (–ü–∞—Ä—Å–µ—Ä)
```bash
cd monorepo-root/dns-api
pip install -r requirements.txt
python src/presentation/main.py
# –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞: http://localhost:8000
# Docs: http://localhost:8000/docs
```

## üê≥ DOCKER –ó–ê–ü–£–°–ö

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π:
```bash
# –ò–∑ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker-compose ps

# –õ–æ–≥–∏
docker-compose logs -f
```

### –û—Ç–¥–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã:
```bash
# –¢–æ–ª—å–∫–æ WB API + Redis
docker-compose up wb-api redis -d

# –¢–æ–ª—å–∫–æ DNS API
docker-compose up dns-api -d

# –¢–æ–ª—å–∫–æ Product Filter Service
docker-compose up product-filter-service -d
```

## üîó ENDPOINTS –ò –ü–û–†–¢–´

| –°–µ—Ä–≤–∏—Å | –ü–æ—Ä—Ç | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|------|-----|----------|
| WB API | 3000 | http://localhost:3000 | –û—Å–Ω–æ–≤–Ω–æ–π API –¥–ª—è WB |
| DNS API | 8000 | http://localhost:8000 | –ü–∞—Ä—Å–µ—Ä DNS-shop |
| Product Filter | 50051 | grpc://localhost:50051 | gRPC —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è |
| Redis | 6379 | redis://localhost:6379 | –ö–µ—à |
| Telegram Bot | - | - | –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ Telegram |

## üìö –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø API

### WB API (Swagger)
```bash
# –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ WB API
open http://localhost:3000/api
```

### DNS API (FastAPI Docs)
```bash
# –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ DNS API
open http://localhost:8000/docs
```

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –¢–µ—Å—Ç—ã WB API
```bash
cd monorepo-root/wb-api
npm run test
npm run test:e2e
```

### –¢–µ—Å—Ç—ã Product Filter Service
```bash
cd product-filter-service
npm run test
```

### –¢–µ—Å—Ç—ã DNS API
```bash
cd monorepo-root/dns-api
python -m pytest
# –ò–ª–∏ –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
python ../../test_dns_real_parsing.py
```

### –û–±—â–∏–µ —Ç–µ—Å—Ç—ã
```bash
cd tests
npm install
npm run test:all-categories
npm run test:grpc-service
```

## ‚öôÔ∏è –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### WB API (.env)
```env
REDIS_URL=redis://localhost:6379
GRPC_PRODUCT_FILTER_URL=localhost:50051
PORT=3000
```

#### DNS API (.env)
```env
HEADLESS_MODE=true
REDIS_URL=redis://localhost:6379
MAX_CONCURRENT_PARSERS=3
```

#### Telegram Bot (.env)
```env
TELEGRAM_BOT_TOKEN=your_bot_token
WB_API_URL=http://localhost:3000
```

#### Product Filter Service (.env)
```env
REDIS_URL=redis://localhost:6379
GRPC_PORT=50051
```

## üîç –û–°–ù–û–í–ù–´–ï –§–£–ù–ö–¶–ò–ò

### WB API
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ —Ç–æ–≤–∞—Ä–æ–≤ Wildberries
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (CPU, –≤–∏–¥–µ–æ–∫–∞—Ä—Ç—ã, –º–∞—Ç–µ—Ä–∏–Ω–∫–∏)
- ‚úÖ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- ‚úÖ Rate limiting
- ‚úÖ gRPC –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏

### DNS API  
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ DNS-shop —Å —ç–º—É–ª—è—Ü–∏–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å—Å—ã–ª–æ–∫
- ‚úÖ –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ (–∞–Ω—Ç–∏-–±–æ—Ç)
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤

### Product Filter Service
- ‚úÖ gRPC —Å–µ—Ä–≤–∏—Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ X3D –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–ª—è –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤
- ‚úÖ RTX –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–ª—è –≤–∏–¥–µ–æ–∫–∞—Ä—Ç
- ‚úÖ Chipset –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–ª—è –º–∞—Ç–µ—Ä–∏–Ω–æ–∫

### Telegram Bot
- ‚úÖ –ö–æ–º–∞–Ω–¥—ã –ø–æ–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å WB API
- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ü–µ–Ω–∞—Ö

## üõ†Ô∏è –†–ê–ó–†–ê–ë–û–¢–ö–ê

### üÜï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–∞—Ä—Å–µ—Ä–∞

1. **–ò–∑—É—á–∏—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–∞–Ω–Ω—ã—Ö**: [`PARSER-DATA-STANDARD.md`](PARSER-DATA-STANDARD.md)
2. **–†–µ–∞–ª–∏–∑—É–π—Ç–µ –ø–∞—Ä—Å–µ—Ä** —Å–æ–≥–ª–∞—Å–Ω–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É
3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö**:
   ```bash
   cd tests
   node test-parser-format.js your-parser-url
   ```
4. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ —Å Product-Filter-Service**
5. **–î–æ–±–∞–≤—å—Ç–µ –≤ WB-API** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è –∞–≥—Ä–µ–≥–∞—Ü–∏–∏)

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤
```bash
cd product-filter-service/src/validators
# –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –≤–∞–ª–∏–¥–∞—Ç–æ—Ä
# –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ validators.module.ts
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
```bash
cd monorepo-root/wb-api/src/parser/application/services
# –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
# –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –≤ presentation/controllers
```

### –û—Ç–ª–∞–¥–∫–∞
```bash
# –õ–æ–≥–∏ WB API
cd monorepo-root/wb-api && npm run start:debug

# –õ–æ–≥–∏ DNS API
cd monorepo-root/dns-api && python src/presentation/main.py --debug

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ gRPC
cd tests && node test-grpc-service.js
```

## üìä –ú–û–ù–ò–¢–û–†–ò–ù–ì

### Health Checks
```bash
# WB API
curl http://localhost:3000/health

# DNS API  
curl http://localhost:8000/health

# Product Filter Service
grpcurl -plaintext localhost:50051 list
```

### –ú–µ—Ç—Ä–∏–∫–∏ Redis
```bash
redis-cli info
redis-cli monitor
```

## üóÑÔ∏è –£–ü–†–ê–í–õ–ï–ù–ò–ï REDIS

### üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è Redis

#### üê≥ **–ß–µ—Ä–µ–∑ Docker (–æ—Å–Ω–æ–≤–Ω–æ–π —Å–ø–æ—Å–æ–±):**
```bash
# –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
docker exec -it redis redis-cli ping
# –û—Ç–≤–µ—Ç: PONG

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ Redis
docker exec -it redis redis-cli info

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª—é—á–µ–π –≤ –±–∞–∑–µ
docker exec -it redis redis-cli dbsize

# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–ª—é—á–µ–π (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ!)
docker exec -it redis redis-cli keys "*"

# –ü–æ–∏—Å–∫ –∫–ª—é—á–µ–π –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω—É
docker exec -it redis redis-cli keys "product:*"
docker exec -it redis redis-cli keys "price:videocards:*"
```

#### üíª **–õ–æ–∫–∞–ª—å–Ω–æ (–µ—Å–ª–∏ Redis —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω):**
```bash
# –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
redis-cli ping
# –û—Ç–≤–µ—Ç: PONG

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ Redis
redis-cli info

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª—é—á–µ–π –≤ –±–∞–∑–µ
redis-cli dbsize

# –ü–æ–∏—Å–∫ –∫–ª—é—á–µ–π –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω—É
redis-cli keys "product:*"
redis-cli keys "price:videocards:*"
```

### üßπ –û–ß–ò–°–¢–ö–ê –ö–ï–®–ê REDIS

#### üê≥ **–ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ Docker:**
```bash
# ‚ö†Ô∏è –û–°–¢–û–†–û–ñ–ù–û: —É–¥–∞–ª—è–µ—Ç –í–°–ï –¥–∞–Ω–Ω—ã–µ –≤ Redis
docker exec -it redis redis-cli flushall

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –æ—á–∏—Å—Ç–∏–ª–æ—Å—å
docker exec -it redis redis-cli dbsize
# –û—Ç–≤–µ—Ç: (integer) 0
```

#### üíª **–õ–æ–∫–∞–ª—å–Ω–æ (–µ—Å–ª–∏ Redis —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω):**
```bash
# ‚ö†Ô∏è –û–°–¢–û–†–û–ñ–ù–û: —É–¥–∞–ª—è–µ—Ç –í–°–ï –¥–∞–Ω–Ω—ã–µ –≤ Redis
redis-cli flushall
```

#### üê≥ **–í—ã–±–æ—Ä–æ—á–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ Docker:**
```bash
# –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ —Ü–µ–Ω—ã —Ç–æ–≤–∞—Ä–æ–≤
docker exec redis redis-cli eval "for i, name in ipairs(redis.call('KEYS', 'price:*')) do redis.call('DEL', name); end" 0

# –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
docker exec redis redis-cli eval "for i, name in ipairs(redis.call('KEYS', 'product:cache:videocards:*')) do redis.call('DEL', name); end" 0

# –û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –ø—É–±–ª–∏–∫–∞—Ü–∏–π
docker exec redis redis-cli eval "for i, name in ipairs(redis.call('KEYS', 'last_posted_price:*')) do redis.call('DEL', name); end" 0
docker exec redis redis-cli eval "for i, name in ipairs(redis.call('KEYS', 'posted:*')) do redis.call('DEL', name); end" 0

# –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω—É
docker exec redis redis-cli eval "return redis.call('del', unpack(redis.call('keys', ARGV[1])))" 0 "product:*"
```

#### üíª **–õ–æ–∫–∞–ª—å–Ω–æ:**
```bash
# –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ —Ü–µ–Ω—ã —Ç–æ–≤–∞—Ä–æ–≤
redis-cli eval "for i, name in ipairs(redis.call('KEYS', 'price:*')) do redis.call('DEL', name); end" 0

# –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
redis-cli eval "for i, name in ipairs(redis.call('KEYS', 'product:cache:videocards:*')) do redis.call('DEL', name); end" 0

# –û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –ø—É–±–ª–∏–∫–∞—Ü–∏–π
redis-cli eval "for i, name in ipairs(redis.call('KEYS', 'last_posted_price:*')) do redis.call('DEL', name); end" 0
redis-cli eval "for i, name in ipairs(redis.call('KEYS', 'posted:*')) do redis.call('DEL', name); end" 0
```

#### –û—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ Docker
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã Redis
docker ps | grep redis

# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Redis –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
docker exec -it redis redis-cli

# –ò–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã –Ω–∞–ø—Ä—è–º—É—é
docker exec redis redis-cli flushall
docker exec redis redis-cli del "price:videocards:*"
```

### üîç –ú–û–ù–ò–¢–û–†–ò–ù–ì –ò –û–¢–õ–ê–î–ö–ê REDIS

#### –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö
```bash
# –ü–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∫–ª—é—á–∞
redis-cli get "price:videocards:123456"

# –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø–æ–ª—è hash-–æ–±—ä–µ–∫—Ç–∞
redis-cli hgetall "product:cache:videocards:rtx4070"

# –ü–æ–ª—É—á–∏—Ç—å —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö –∫–ª—é—á–∞
redis-cli type "price:videocards:123456"

# –ü–æ–ª—É—á–∏—Ç—å –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∫–ª—é—á–∞ (TTL)
redis-cli ttl "product:cache:videocards:rtx4070"
```

#### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥ Redis –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
redis-cli monitor

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–º–∞–Ω–¥
redis-cli info commandstats

# –ú–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
redis-cli slowlog get 10
```

#### –ê–Ω–∞–ª–∏–∑ –ø–∞–º—è—Ç–∏
```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
redis-cli info memory

# –ê–Ω–∞–ª–∏–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏ –ø–æ –∫–ª—é—á–∞–º
redis-cli --bigkeys

# –†–∞–∑–º–µ—Ä –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞
redis-cli memory usage "price:videocards:123456"
```

### üß™ –ü–û–õ–ï–ó–ù–´–ï –ö–û–ú–ê–ù–î–´ –î–õ–Ø –†–ê–ó–†–ê–ë–û–¢–ö–ò

#### –°–±—Ä–æ—Å –∫–µ—à–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```bash
# –û—á–∏—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ –∫–µ—à –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (–¥–∞–Ω–Ω—ã–µ –æ—Å—Ç–∞–Ω—É—Ç—Å—è)
redis-cli del "product:cache:videocards:*"

# –û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
redis-cli flushall && echo "‚úÖ Redis –æ—á–∏—â–µ–Ω - –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–Ω–æ–≤–æ"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–µ—à –ø—É—Å—Ç
redis-cli dbsize
# –û—Ç–≤–µ—Ç: (integer) 0
```

#### –ë—ç–∫–∞–ø –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
```bash
# –°–æ–∑–¥–∞—Ç—å –¥–∞–º–ø –±–∞–∑—ã
redis-cli save
# –§–∞–π–ª —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ /var/lib/redis/dump.rdb

# –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ JSON
redis-cli --scan --pattern "*" | while read key; do
    echo "$key: $(redis-cli get "$key")"
done > redis_backup.txt

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ —Ñ–∞–π–ª–∞ (–ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ Redis)
# –§–∞–π–ª dump.rdb –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
```

### üö® –¢–ò–ü–ò–ß–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ –ò –†–ï–®–ï–ù–ò–Ø

#### Redis –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å Redis
redis-cli ping

# –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ "Connection refused"
sudo systemctl start redis
# –∏–ª–∏ –¥–ª—è Docker:
docker-compose up redis -d

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—Ç
netstat -tulpn | grep 6379
```

#### –ü–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
redis-cli info memory

# –û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ
redis-cli flushall

# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–∏–º–∏—Ç –ø–∞–º—è—Ç–∏ –≤ redis.conf
maxmemory 512mb
maxmemory-policy allkeys-lru
```

#### –ú–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
```bash
# –í–∫–ª—é—á–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ–¥–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
redis-cli config set slowlog-log-slower-than 10000

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
redis-cli slowlog get 5
```

### üìã –°–¢–†–£–ö–¢–£–†–ê –î–ê–ù–ù–´–• –í REDIS

```bash
# –ö–µ—à —Ü–µ–Ω —Ç–æ–≤–∞—Ä–æ–≤
price:videocards:{stableId} ‚Üí "65000"
price:processors:{stableId} ‚Üí "45000"
price:motherboards:{stableId} ‚Üí "15000"

# –ò—Å—Ç–æ—Ä–∏—è –ø—É–±–ª–∏–∫–∞—Ü–∏–π
last_posted_price:videocards:{stableId} ‚Üí "64000"
posted:videocards:{stableId} ‚Üí "1"

# –ö–µ—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞
product:cache:videocards:rtx4070 ‚Üí JSON —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
product:cache:processors:i7 ‚Üí JSON —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏

# –î–∞–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
source:wb:{productId} ‚Üí JSON –¥–∞–Ω–Ω—ã–µ –æ—Ç WB-API
source:dns:{productId} ‚Üí JSON –¥–∞–Ω–Ω—ã–µ –æ—Ç DNS-API
```

### ‚ö° –ë–´–°–¢–†–´–ï –ö–û–ú–ê–ù–î–´

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
redis-cli ping

# –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞
redis-cli flushall

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª—é—á–µ–π
redis-cli dbsize

# –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à –ø—Ä–æ–¥—É–∫—Ç–æ–≤
redis-cli eval "return redis.call('del', unpack(redis.call('keys', 'product:cache:*')))" 0

# –û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –ø–æ—Å—Ç–æ–≤
redis-cli eval "return redis.call('del', unpack(redis.call('keys', 'posted:*')))" 0

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–æ–º–∞–Ω–¥
redis-cli monitor
```

## üö® TROUBLESHOOTING

### –ü—Ä–æ–±–ª–µ–º—ã —Å Chrome (DNS API)
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é Chrome
google-chrome --version

# –û–±–Ω–æ–≤–∏—Ç—å Chrome
# chrome://settings/help

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å ChromeDriver
cd monorepo-root/dns-api
python -c "import undetected_chromedriver as uc; print(uc.Chrome())"
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å gRPC
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—Ç
netstat -tulpn | grep 50051

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
cd product-filter-service
npm run start:dev
```

### –û—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞
```bash
# Redis
redis-cli flushall

# –ò–ª–∏ —á–µ—Ä–µ–∑ API
curl -X DELETE http://localhost:3000/cache/clear
```

## üìù –õ–û–ì–ò

```bash
# –í—Å–µ –ª–æ–≥–∏ Docker
docker-compose logs -f

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–µ—Ä–≤–∏—Å
docker-compose logs -f wb-api
docker-compose logs -f dns-api

# –õ–æ–≥–∏ –±–µ–∑ Docker
tail -f monorepo-root/wb-api/logs/app.log
tail -f monorepo-root/dns-api/logs/parser.log
```

## üéØ –ü–û–õ–ï–ó–ù–´–ï –ö–û–ú–ê–ù–î–´

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose down

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤
docker-compose build --no-cache

# –û—á–∏—Å—Ç–∫–∞ Docker
docker system prune -a

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –ø–æ—Ä—Ç–æ–≤
netstat -tulpn | grep -E "(3000|8000|50051|6379)"

# –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
curl http://localhost:3000/health && \
curl http://localhost:8000/health && \
echo "–í—Å–µ —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç!"
```

---

## ü§ù Contributing

1. Fork –ø—Ä–æ–µ–∫—Ç
2. –°–æ–∑–¥–∞–π feature branch (`git checkout -b feature/amazing-feature`)
3. Commit –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m 'Add amazing feature'`)
4. Push –≤ branch (`git push origin feature/amazing-feature`)
5. –û—Ç–∫—Ä–æ–π Pull Request

## üìÑ License

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT - —Å–º. —Ñ–∞–π–ª [LICENSE](LICENSE).

---

**üöÄ –£–¥–∞—á–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏!**