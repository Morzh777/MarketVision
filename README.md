# üöÄ MarketVision - –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ü–µ–Ω –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–µ –∫–æ–º–ø–ª–µ–∫—Ç—É—é—â–∏–µ

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

MarketVision - —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ü–µ–Ω –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–µ –∫–æ–º–ø–ª–µ–∫—Ç—É—é—â–∏–µ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π WildBerries –∏ Ozon. –ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º gRPC –¥–ª—è –º–µ–∂—Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è.

## üèóÔ∏è –§–∏–Ω–∞–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
Bot (Telegram)
   ‚Üì
Product-Filter-Service (–ø–æ—Ä—Ç 3001)
   ‚Üì
+-------------------+
|                   |
WB-API (–ø–æ—Ä—Ç 3000)  Ozon-API (–ø–æ—Ä—Ç 3002)
|                   |
+-------------------+
   ‚Üì
db-api (–ø–æ—Ä—Ç 3003, Postgres)
```

### –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã:
- **Bot** (–ø–æ—Ä—Ç 3002) ‚Äî Telegram-–±–æ—Ç —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **Product-Filter-Service** (–ø–æ—Ä—Ç 3001) ‚Äî –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ö–∞–± –∞–≥—Ä–µ–≥–∞—Ü–∏–∏, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- **WB-API** (–ø–æ—Ä—Ç 3000) ‚Äî –ü–∞—Ä—Å–µ—Ä WildBerries —Å gRPC —Å–µ—Ä–≤–µ—Ä–æ–º
- **Ozon-API** (–ø–æ—Ä—Ç 3002) ‚Äî –ü–∞—Ä—Å–µ—Ä Ozon —Å gRPC —Å–µ—Ä–≤–µ—Ä–æ–º (Python)
- **db-api** (–ø–æ—Ä—Ç 3003) ‚Äî –°–µ—Ä–≤–∏—Å —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –∏ –∏—Å—Ç–æ—Ä–∏–∏ —Ü–µ–Ω (NestJS + Prisma + Postgres)

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
wbinfo/
‚îú‚îÄ‚îÄ monorepo-root/
‚îÇ   ‚îú‚îÄ‚îÄ bot/                    # Telegram-–±–æ—Ç (NestJS)
‚îÇ   ‚îú‚îÄ‚îÄ product-filter-service/ # –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å (NestJS)
‚îÇ   ‚îú‚îÄ‚îÄ wb-api/                # WB –ø–∞—Ä—Å–µ—Ä (NestJS)
‚îÇ   ‚îú‚îÄ‚îÄ ozon-api/              # Ozon –ø–∞—Ä—Å–µ—Ä (Python)
‚îÇ   ‚îú‚îÄ‚îÄ db-api/                # –°–µ—Ä–≤–∏—Å —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –∏ –∏—Å—Ç–æ—Ä–∏–∏ —Ü–µ–Ω (NestJS)
‚îÇ   ‚îî‚îÄ‚îÄ logs/                  # –õ–æ–≥–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
‚îú‚îÄ‚îÄ tests/                     # –¢–µ—Å—Ç—ã –∏ –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ PARSER-DATA-STANDARD.md    # –°—Ç–∞–Ω–¥–∞—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –ø–∞—Ä—Å–µ—Ä–æ–≤
‚îú‚îÄ‚îÄ API-DATA-STANDARD.md       # –°—Ç–∞–Ω–¥–∞—Ä—Ç API –¥–∞–Ω–Ω—ã—Ö
‚îî‚îÄ‚îÄ README.md                  # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã —á–µ—Ä–µ–∑ Docker Compose
# (db-api –∏ Postgres –ø–æ–¥–Ω–∏–º—É—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
docker-compose up -d

# –ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Ä—É—á–Ω—É—é:
cd monorepo-root/bot && npm run start:dev
cd monorepo-root/product-filter-service && npm run start:dev  
cd monorepo-root/wb-api && npm run start:dev
cd monorepo-root/ozon-api && python src/main.py
cd monorepo-root/db-api && npm run start:dev
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç
npm run test:architecture
```

## üìä –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

### –ö–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–µ –∫–æ–º–ø–ª–µ–∫—Ç—É—é—â–∏–µ:
- **–í–∏–¥–µ–æ–∫–∞—Ä—Ç—ã** - RTX 5070, RTX 5080, RTX 5090
- **–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã** - 7800X3D, 9800X3D, 9950X3D  
- **–ú–∞—Ç–µ—Ä–∏–Ω—Å–∫–∏–µ –ø–ª–∞—Ç—ã** - Z790, B760, X870E, B850

### –ò–≥—Ä–æ–≤—ã–µ –∫–æ–Ω—Å–æ–ª–∏:
- **PlayStation 5** - PS5, PS5 Slim
- **PlayStation Accessories** - DualSense, PS5 Headset
- **Nintendo Switch** - Switch 2, Switch OLED

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Backend**: NestJS (TypeScript), Python
- **–ú–µ–∂—Å–µ—Ä–≤–∏—Å–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ**: gRPC
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: Redis
- **–ü–∞—Ä—Å–∏–Ω–≥**: Selenium, undetected-chromedriver
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**: Sharp
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: Jest, Node.js

## üì° API Endpoints

### Product-Filter-Service (–ø–æ—Ä—Ç 3001)
- `POST /products/search` - –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤
- `GET /price-statistics/daily-summary/:date` - –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Å–≤–æ–¥–∫–∞
- `GET /price-statistics/weekly-report/:weekKey` - –ù–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç

### WB-API (–ø–æ—Ä—Ç 3000)
- `GET /parser/videocards` - –ü–∞—Ä—Å–∏–Ω–≥ –≤–∏–¥–µ–æ–∫–∞—Ä—Ç
- `GET /parser/cpus` - –ü–∞—Ä—Å–∏–Ω–≥ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤
- `GET /parser/motherboards` - –ü–∞—Ä—Å–∏–Ω–≥ –º–∞—Ç–µ—Ä–∏–Ω—Å–∫–∏—Ö –ø–ª–∞—Ç

### Ozon-API (–ø–æ—Ä—Ç 3002)
- gRPC —Å–µ—Ä–≤–µ—Ä –¥–ª—è Product-Filter-Service

### db-api (–ø–æ—Ä—Ç 3003)
- gRPC –º–µ—Ç–æ–¥—ã –¥–ª—è –ø–∞–∫–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ –∏ —á—Ç–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –∏ –∏—Å—Ç–æ—Ä–∏–∏ —Ü–µ–Ω
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ Postgres —á–µ—Ä–µ–∑ Prisma

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
cd tests

# –ê–Ω–∞–ª–∏–∑ —Å—ã—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö API
node api_responce/analyze-raw-api-data.js

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
npm run test:architecture

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞–Ω–Ω—ã—Ö –ø–∞—Ä—Å–µ—Ä–æ–≤
node test-parser-format.js
```

## üìã –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã –¥–∞–Ω–Ω—ã—Ö

### PARSER-DATA-STANDARD.md
–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –¥–ª—è –≤—Å–µ—Ö –ø–∞—Ä—Å–µ—Ä–æ–≤:
- `id` (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π!)
- `name` 
- `price` (—á–∏—Å–ª–æ –≤ —Ä—É–±–ª—è—Ö)
- `query`

### API-DATA-STANDARD.md
–°—Ç–∞–Ω–¥–∞—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è API –æ—Ç–≤–µ—Ç–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º.

## üîÑ –ö–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
# –°–±–æ—Ä–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
npm run build

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
npm run test:architecture

# –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–µ–π
npm run clear:cache

# –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è proto —Ñ–∞–π–ª–æ–≤
npm run build:proto
```

### –ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ —Å–µ—Ä–≤–∏—Å–æ–≤
- **Bot**: http://localhost:3002/health
- **Product-Filter-Service**: http://localhost:3001/health  
- **WB-API**: http://localhost:3000/health
- **Ozon-API**: gRPC –Ω–∞ –ø–æ—Ä—Ç—É 3002
- **db-api**: http://localhost:3003/health


## üéØ –¶–µ–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞

- [x] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ü–µ–Ω –Ω–∞ WildBerries
- [x] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ü–µ–Ω –Ω–∞ Ozon  
- [x] –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤
- [x] Telegram –±–æ—Ç –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- [x] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫—Ä–∞—Å–∏–≤—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å —à–∞–±–ª–æ–Ω–æ–º
- [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–≥—Ä–æ–≤—ã—Ö –∫–æ–Ω—Å–æ–ª–µ–π
- [x] gRPC –º–µ–∂—Å–µ—Ä–≤–∏—Å–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ
- [ ] –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è
- [ ] –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç—ã

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **PARSER-DATA-STANDARD.md** - –°—Ç–∞–Ω–¥–∞—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –ø–∞—Ä—Å–µ—Ä–æ–≤
- **API-DATA-STANDARD.md** - –°—Ç–∞–Ω–¥–∞—Ä—Ç API –¥–∞–Ω–Ω—ã—Ö
- **DEVELOPER_GUIDE.md** - –ì–∞–π–¥ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

---

**MarketVision** - –±—ã—Å—Ç—Ä–∞—è, –Ω–∞–¥—ë–∂–Ω–∞—è –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ü–µ–Ω –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–µ –∫–æ–º–ø–ª–µ–∫—Ç—É—é—â–∏–µ! üöÄ