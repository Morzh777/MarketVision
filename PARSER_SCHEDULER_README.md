# üóìÔ∏è –°–∏—Å—Ç–µ–º–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ MarketVision

## –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–∞–Ω–Ω—ã—Ö —Å –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–≤ (Wildberries, Ozon) —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### Product-Filter-Service (–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä)
- **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫**: –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–∏—Å–∞
- **–ò–Ω—Ç–µ—Ä–≤–∞–ª**: –ö–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç
- **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏**: –í—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ (–≤–∏–¥–µ–æ–∫–∞—Ä—Ç—ã, –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã, –º–∞—Ç–µ—Ä–∏–Ω—Å–∫–∏–µ –ø–ª–∞—Ç—ã, –∏ —Ç.–¥.)
- **API**: REST —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### MarketVision-API (–ê–¥–º–∏–Ω–∫–∞)
- **–ê–¥–º–∏–Ω–∫–∞**: `/admin` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–æ–º
- **API —Ä–æ—É—Ç—ã**: –ü—Ä–æ–∫—Å–∏ –∫ Product-Filter-Service
- **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

## üöÄ –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã

### 1. –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
```bash
# –í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
docker-compose up -d
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Product-Filter-Service
docker logs product-filter-service

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ MarketVision-API
docker logs marketvision-api
```

### 3. –î–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω–∫–µ
```
http://localhost:3000/admin
```

## üìä –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–∞—Ä—Å–∏–Ω–≥–∞

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –∑–∞–ø—Ä–æ—Å—ã (–∏–∑ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞)

#### –í–∏–¥–µ–æ–∫–∞—Ä—Ç—ã
- **–ó–∞–ø—Ä–æ—Å—ã**: `rtx 5070`, `rtx 5070 ti`, `rtx 5080`, `rtx 5090`
- **–ö–∞—Ç–µ–≥–æ—Ä–∏—è**: `videocards`

#### –ü—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã
- **–ó–∞–ø—Ä–æ—Å—ã**: `7800x3d`, `9800x3d`, `9950x3d`
- **–ö–∞—Ç–µ–≥–æ—Ä–∏—è**: `processors`

#### –ú–∞—Ç–µ—Ä–∏–Ω—Å–∫–∏–µ –ø–ª–∞—Ç—ã
- **–ó–∞–ø—Ä–æ—Å—ã**: `Z790`, `B760`, `X870E`, `B850`
- **–ö–∞—Ç–µ–≥–æ—Ä–∏—è**: `motherboards`

#### PlayStation
- **–ó–∞–ø—Ä–æ—Å—ã**: `playstation 5`, `playstation 5 pro`
- **–ö–∞—Ç–µ–≥–æ—Ä–∏—è**: `playstation`

#### Nintendo Switch
- **–ó–∞–ø—Ä–æ—Å—ã**: `nintendo switch 2`, `nintendo switch oled`
- **–ö–∞—Ç–µ–≥–æ—Ä–∏—è**: `nintendo_switch`

#### Steam Deck
- **–ó–∞–ø—Ä–æ—Å—ã**: `steam deck oled`
- **–ö–∞—Ç–µ–≥–æ—Ä–∏—è**: `steam_deck`

#### iPhone
- **–ó–∞–ø—Ä–æ—Å—ã**: `iphone 16 pro`
- **–ö–∞—Ç–µ–≥–æ—Ä–∏—è**: `iphone`

## üîß API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### Product-Filter-Service

#### –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
```http
GET http://localhost:3001/scheduler/status
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "isRunning": false,
  "nextRun": "2024-01-15T14:30:00.000Z",
  "config": {
    "videocards": {
      "queries": ["rtx 5070", "rtx 5070 ti", "rtx 5080", "rtx 5090"],
      "category": "videocards"
    }
  }
}
```

#### –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
```http
POST http://localhost:3001/scheduler/run-now
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "message": "–ü–∞—Ä—Å–∏–Ω–≥ –∑–∞–ø—É—â–µ–Ω",
  "timestamp": "2024-01-15T14:00:00.000Z"
}
```

### MarketVision-API (–ü—Ä–æ–∫—Å–∏)

#### –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç—É—Å
```http
GET http://localhost:3000/api/scheduler/status
```

#### –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥
```http
POST http://localhost:3000/api/scheduler/run-now
```

## üì± –ê–¥–º–∏–Ω–∫–∞

### –î–æ—Å—Ç—É–ø
```
http://localhost:3000/admin
```

### –§—É–Ω–∫—Ü–∏–∏
- **–°—Ç–∞—Ç—É—Å –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞**: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- **–°–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫**: –í—Ä–µ–º—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞
- **–ó–∞–ø—É—Å–∫ –≤—Ä—É—á–Ω—É—é**: –ö–Ω–æ–ø–∫–∞ –¥–ª—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: –ü—Ä–æ—Å–º–æ—Ç—Ä –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π

## üîÑ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

### –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ Product-Filter-Service
1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**: –°–æ–∑–¥–∞–µ—Ç—Å—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫
2. **–ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫**: –ß–µ—Ä–µ–∑ 1 –º–∏–Ω—É—Ç—É –ø–æ—Å–ª–µ —Å—Ç–∞—Ä—Ç–∞
3. **–ü–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å**: –ö–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç

### –ü—Ä–æ—Ü–µ—Å—Å –ø–∞—Ä—Å–∏–Ω–≥–∞
1. **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –ù–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ª–∏ —É–∂–µ –ø–∞—Ä—Å–∏–Ω–≥
2. **–ò—Ç–µ—Ä–∞—Ü–∏—è**: –ü–æ –≤—Å–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
3. **–ó–∞–ø—Ä–æ—Å—ã**: –ö WB-API –∏ OZON-API —á–µ—Ä–µ–∑ gRPC
4. **–û–±—Ä–∞–±–æ—Ç–∫–∞**: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
5. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ**: –í –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
6. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –æ—à–∏–±–∫–∏

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- **–ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏**: –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –í—Å–µ –æ—à–∏–±–∫–∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –ª–æ–≥–∏
- **–ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ**: –ü–∞—Ä—Å–∏–Ω–≥ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

## üìù –õ–æ–≥–∏

### Product-Filter-Service
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker logs product-filter-service

# –ü—Ä–∏–º–µ—Ä—ã —Å–æ–æ–±—â–µ–Ω–∏–π:
# üóìÔ∏è –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
# üöÄ –ó–∞–ø—É—Å–∫ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–∏—Å–∞
# ‚è∞ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–ø—É—â–µ–Ω: –ø–∞—Ä—Å–∏–Ω–≥ –∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç
# üöÄ –ó–∞–ø—É—Å–∫ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
# üì¶ –ü–∞—Ä—Å–∏–Ω–≥ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏: videocards
# ‚úÖ videocards: –Ω–∞–π–¥–µ–Ω–æ 15 —Ç–æ–≤–∞—Ä–æ–≤
# üéâ –ü–∞—Ä—Å–∏–Ω–≥ –∑–∞–≤–µ—Ä—à–µ–Ω: 45 —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ 8 –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∑–∞ 120000ms
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞
–í —Ñ–∞–π–ª–µ `monorepo-root/product-filter-service/src/services/parser-scheduler.service.ts`:

```typescript
// –ò–∑–º–µ–Ω–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª (–≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö)
this.schedulerInterval = setInterval(() => {
  this.runScheduledParsing();
}, 15 * 60 * 1000); // 15 –º–∏–Ω—É—Ç –≤–º–µ—Å—Ç–æ 30
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
–í —Ç–æ–º –∂–µ —Ñ–∞–π–ª–µ, –≤ –æ–±—ä–µ–∫—Ç–µ `PARSING_CONFIG`:

```typescript
const PARSING_CONFIG = {
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
  new_category: {
    queries: ['–Ω–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å 1', '–Ω–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å 2'],
    category: 'new_category'
  }
};
```

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: `docker logs product-filter-service`
2. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∑–∞–ø—É—â–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –ü–∞—Ä—Å–∏–Ω–≥ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å WB-API –∏ OZON-API
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å gRPC —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
3. –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –ø–∞—Ä—Å–µ—Ä–æ–≤

### –ê–¥–º–∏–Ω–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ MarketVision-API –∑–∞–ø—É—â–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—Ç 3000
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `PRODUCT_FILTER_SERVICE_URL`

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ú–µ—Ç—Ä–∏–∫–∏
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤**: –ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–∞—Ä—Å–∏–Ω–≥–∞
- **–û—à–∏–±–∫–∏**: –ß–∞—Å—Ç–æ—Ç–∞ –∏ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫
- **–°—Ç–∞—Ç—É—Å**: –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞

### –ê–ª–µ—Ä—Ç—ã
- –ü–∞—Ä—Å–∏–Ω–≥ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –±–æ–ª–µ–µ 1 —á–∞—Å–∞
- –í—ã—Å–æ–∫–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç –æ—à–∏–±–æ–∫
- –î–æ–ª–≥–æ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω–∫–µ –ø–æ IP
- –î–æ–±–∞–≤–∏—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
- –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ 