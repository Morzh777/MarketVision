# –ê—É–¥–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ wb-api

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –∞–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–∞ `wb-api` –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –µ–µ —É–ª—É—á—à–µ–Ω–∏—é.

## –ü—Ä–æ–≤–µ–¥–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑

–ë—ã–ª –ø—Ä–æ–≤–µ–¥–µ–Ω –±–∞–∑–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker (`docker-compose.yml`)
- –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ gRPC —Å–µ—Ä–≤–µ—Ä–∞ (`src/grpc-server/grpc-server.service.ts`)

## üö® –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ –∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏

1.  **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ `Dockerfile`**: –°–±–æ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –Ω–µ–ø—Ä–æ–∑—Ä–∞—á–Ω–∞ –∏ –Ω–µ–∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–∞.
2.  **gRPC –±–µ–∑ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `createInsecure()`, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –ø–µ—Ä–µ–¥–∞—á—É –¥–∞–Ω–Ω—ã—Ö –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ. **–≠—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —É—è–∑–≤–∏–º–æ—Å—Ç—å.**
3.  **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ `.dockerignore`**: –í –æ–±—Ä–∞–∑ –º–æ–≥—É—Ç –ø–æ–ø–∞–¥–∞—Ç—å –ª–∏—à–Ω–∏–µ –∏ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã (`.env`, `node_modules`, `.git`), —É–≤–µ–ª–∏—á–∏–≤–∞—è –µ–≥–æ —Ä–∞–∑–º–µ—Ä –∏ —Ä–∏—Å–∫–∏.
4.  **–ó–∞–ø—É—Å–∫ –æ—Ç root-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å –ø—Ä–∞–≤–∞–º–∏ root, —á—Ç–æ –æ–ø–∞—Å–Ω–æ –≤ —Å–ª—É—á–∞–µ –≤–∑–ª–æ–º–∞.
5.  **–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è**: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞–ª–∏—á–∏–µ `query` –∏ `category`, –Ω–æ –Ω–µ –∏—Ö —Ç–∏–ø, –¥–ª–∏–Ω–∞ –∏–ª–∏ —Ñ–æ—Ä–º–∞—Ç.

---

## ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

–ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω—ã —à–∞–≥–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–µ–¥–ø—Ä–∏–Ω—è—Ç—å –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–∞.

### 1. –°–æ–∑–¥–∞—Ç—å `Dockerfile`
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ–ø—Ä–æ–∑—Ä–∞—á–Ω–∞—è –∏ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–∞—è —Å–±–æ—Ä–∫–∞.
**–†–µ—à–µ–Ω–∏–µ**: –°–æ–∑–¥–∞—Ç—å `Dockerfile` —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–Ω–æ–≥–æ—ç—Ç–∞–ø–Ω–æ–π —Å–±–æ—Ä–∫–∏.

- **–≠—Ç–∞–ø —Å–±–æ—Ä–∫–∏ (`builder`)**: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å TypeScript.
- **–§–∏–Ω–∞–ª—å–Ω—ã–π —ç—Ç–∞–ø (`production`)**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑ (`node:18-alpine`), —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã (`dist`, `node_modules`, `proto`).
- **–ó–∞–ø—É—Å–∫ –æ—Ç –Ω–µ–ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**: –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `appuser` –∏ –∑–∞–ø—É—Å–∫–∞—Ç—å —Å–µ—Ä–≤–∏—Å –æ—Ç –µ–≥–æ –∏–º–µ–Ω–∏.

### 2. –í–∫–ª—é—á–∏—Ç—å TLS/SSL —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ
**–ü—Ä–æ–±–ª–µ–º–∞**: –î–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ.
**–†–µ—à–µ–Ω–∏–µ**: –ó–∞–º–µ–Ω–∏—Ç—å `grpc.ServerCredentials.createInsecure()` –Ω–∞ `grpc.ServerCredentials.createSsl()`, –∏—Å–ø–æ–ª—å–∑—É—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –∏–∑ –æ–±—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `tls`.

### 3. –î–æ–±–∞–≤–∏—Ç—å —Ñ–∞–π–ª `.dockerignore`
**–ü—Ä–æ–±–ª–µ–º–∞**: –í –æ–±—Ä–∞–∑ –ø–æ–ø–∞–¥–∞—é—Ç –ª–∏—à–Ω–∏–µ —Ñ–∞–π–ª—ã.
**–†–µ—à–µ–Ω–∏–µ**: –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `.dockerignore`, —á—Ç–æ–±—ã –∏—Å–∫–ª—é—á–∏—Ç—å –∏–∑ —Å–±–æ—Ä–∫–∏:
```
.git
.gitignore
node_modules
dist
.env
npm-debug.log
```

### 4. –£—Å–∏–ª–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö.
**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä `class-validator` –∏–ª–∏ `zod`, –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤, –¥–ª–∏–Ω—ã –∏ —Ñ–æ—Ä–º–∞—Ç–∞ –ø–æ–ª–µ–π `query` –∏ `category`.

### 5. –£–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —É—Ç–µ—á–∫–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ –æ—à–∏–±–∫–∏.
**–†–µ—à–µ–Ω–∏–µ**: –í `catch` –±–ª–æ–∫–∞—Ö –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ—à–∏–±–∫–µ, –Ω–æ –∫–ª–∏–µ–Ω—Ç—É –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏ –æ–±—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, `Internal Server Error`.
